
---

## ğŸŒŸ ä¸€ã€ä»€ä¹ˆæ˜¯â€œä¸€ç­‰å¯¹è±¡â€ï¼Ÿ

ä¸€ä¸ªè¯­è¨€çš„æ„ä»¶è¢«ç§°ä¸ºâ€œä¸€ç­‰å¯¹è±¡â€ï¼Œéœ€æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š

1. **å¯ä»¥èµ‹å€¼ç»™å˜é‡**
2. **å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°**
3. **å¯ä»¥ä½œä¸ºå‡½æ•°è¿”å›å€¼**
4. **å¯ä»¥å­˜å‚¨åœ¨æ•°æ®ç»“æ„ä¸­ï¼ˆå¦‚åˆ—è¡¨ã€å­—å…¸ï¼‰**

âœ… Python ä¸­çš„å‡½æ•°æ»¡è¶³ä»¥ä¸Šæ‰€æœ‰æ¡ä»¶ï¼Œå› æ­¤**å‡½æ•°æ˜¯â€œä¸€ç­‰å¯¹è±¡â€**ã€‚

---

## ğŸ§  äºŒã€å‡½æ•°å¯¹è±¡çš„æ ¸å¿ƒç‰¹æ€§

åœ¨ Python ä¸­ï¼Œå‡½æ•°æœ¬è´¨ä¸Šæ˜¯å¯¹è±¡ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š

| ç‰¹æ€§        | ç¤ºä¾‹ä»£ç                                       | è¯´æ˜              |
| --------- | ----------------------------------------- | --------------- |
| å˜é‡å¯ä»¥å¼•ç”¨å‡½æ•°  | `greet = print`                           | å‡½æ•°å¯ä»¥èµ‹å€¼ç»™å˜é‡       |
| å‡½æ•°å¯ä½œä¸ºå‚æ•°   | `map(str.upper, words)`                   | ä¼ å…¥å‡½æ•°å           |
| å‡½æ•°å¯ä½œä¸ºè¿”å›å€¼  | `def make_adder(x): return lambda y: x+y` | è¿”å›æ–°çš„å‡½æ•°          |
| å‡½æ•°å¯å­˜å‚¨åœ¨å®¹å™¨ä¸­ | `[str.upper, str.lower]`                  | å‡½æ•°å¯å­˜åœ¨äºåˆ—è¡¨ã€å­—å…¸ç­‰ç»“æ„ä¸­ |

---

## ğŸ” ä¸‰ã€å‡½æ•°çš„å†…éƒ¨å±æ€§ï¼ˆå‡½æ•°å¯¹è±¡çš„å±æ€§ï¼‰

äº†è§£å‡½æ•°å¯¹è±¡çš„å±æ€§æœ‰åŠ©äºæŒæ¡å‡½æ•°çš„â€œå¯¹è±¡æœ¬è´¨â€ï¼š

* `.__name__`ï¼šå‡½æ•°å
* `.__doc__`ï¼šå‡½æ•°çš„æ–‡æ¡£å­—ç¬¦ä¸²
* `.__annotations__`ï¼šç±»å‹æ ‡æ³¨ä¿¡æ¯
* `.__defaults__`ï¼šé»˜è®¤å‚æ•°å€¼
* `.__code__`ï¼šå‡½æ•°çš„ä»£ç å¯¹è±¡ï¼ˆå¯è·å–å‚æ•°ã€å˜é‡åç­‰åº•å±‚ä¿¡æ¯ï¼‰

```python
def foo(a: int, b: str = 'hello') -> str:
    return f"{a}-{b}"

print(foo.__name__)         # 'foo'
print(foo.__annotations__)  # {'a': <class 'int'>, 'b': <class 'str'>, 'return': <class 'str'>}
```

---

## ğŸ” å››ã€é«˜é˜¶å‡½æ•°ï¼ˆHigher-Order Functionsï¼‰

**å®šä¹‰**ï¼š**æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°**æˆ–**è¿”å›å‡½æ•°çš„å‡½æ•°**ã€‚

å¸¸è§çš„é«˜é˜¶å‡½æ•°ï¼š

* `map(func, iterable)`
* `filter(func, iterable)`
* `sorted(iterable, key=func)`
* `functools.reduce(func, seq)`

é«˜é˜¶å‡½æ•°ä¸º**æŠ½è±¡å’Œå¤ç”¨æä¾›å¯èƒ½**ã€‚

---

## ğŸ¯ äº”ã€å°†å‡½æ•°ä½œä¸ºå¯¹è±¡åº”ç”¨çš„åœºæ™¯

| åº”ç”¨åœºæ™¯  | ç¤ºä¾‹æˆ–æè¿°                        |
| ----- | ---------------------------- |
| å›è°ƒå‡½æ•°  | GUI æˆ–å¼‚æ­¥ç¼–ç¨‹ä¸­ç»å¸¸ä½¿ç”¨               |
| ç­–ç•¥æ¨¡å¼  | ä¸åŒå‡½æ•°ä½œä¸ºâ€œç­–ç•¥â€è¢«åŠ¨æ€é€‰æ‹©              |
| è£…é¥°å™¨   | æ¥æ”¶å‡½æ•°å¹¶è¿”å›ä¿®æ”¹åçš„å‡½æ•°                |
| å‡½æ•°å¼ç»„åˆ | å¦‚ compose(f, g)(x) = f(g(x)) |

---

## ğŸ§° å…­ã€ç¤ºä¾‹ï¼šå‡½æ•°ä½œä¸ºå‚æ•°å’Œè¿”å›å€¼

```python
# ä½œä¸ºå‚æ•°
def apply_twice(func, arg):
    return func(func(arg))

print(apply_twice(str.upper, 'hello'))  # 'HELLO'

# ä½œä¸ºè¿”å›å€¼
def make_multiplier(factor):
    def multiply(x):
        return x * factor
    return multiply

double = make_multiplier(2)
print(double(5))  # 10
```

---

## ğŸ§© ä¸ƒã€å‡½æ•°ä¸€ç­‰æ€§å¸¦æ¥çš„ Python ç¼–ç¨‹ä¼˜åŠ¿

* **æ›´å¼ºçš„æŠ½è±¡èƒ½åŠ›**ï¼šå‡½æ•°å¯ä»¥åƒæ•°æ®ä¸€æ ·è¢«å¤„ç†ã€‚
* **çµæ´»çš„æ¶æ„è®¾è®¡**ï¼šæ”¯æŒç­–ç•¥æ¨¡å¼ã€æ’ä»¶å¼æ¶æ„ç­‰ã€‚
* **æ˜“äºæµ‹è¯•ä¸æ‰©å±•**ï¼šä¼ å…¥ mock å‡½æ•°æˆ–ç­–ç•¥å‡½æ•°ã€‚
* **ä¸ºå‡½æ•°å¼ç¼–ç¨‹æä¾›åŸºç¡€**ï¼šæ”¯æŒ map/filter/reduce/lambda ç­‰ã€‚

---


## å…«ã€æ‚è°ˆ
1. æ¥æ”¶å‡½æ•°ä¸ºå‚æ•°æˆ–è€…æŠŠå‡½æ•°ä½œä¸ºç»“æœè¿”å›çš„å‡½æ•°å°±æ˜¯é«˜é˜¶å‡½æ•°ï¼Œæ¯”å¦‚mapã€fillter
2. åœ¨å®šä¹‰å‡½æ•°æ—¶ï¼Œå¦‚æœæƒ³æŒ‡å®šä»…é™å…³é”®å­—å‚æ•°ï¼Œå°±è¦æŠŠä»–ä»¬æ”¾åˆ°å‰é¢å¸¦æœ‰*çš„å‚æ•°åé¢ï¼›å¦‚æœä¸æƒ³æ”¯æŒæ•°é‡ä¸å®šå¾—åˆ†ä½ç½®å‚æ•°ï¼Œä½†æ˜¯æƒ³æ”¯æŒä»…é™å…³é”®å­—å‚æ•°ï¼Œåˆ™å¯æ¶æ„åœ¨ç­¾åä¸­æ”¾ä¸€ä¸ª*ã€‚
3. å¦‚æœåƒå®šä¹‰åªæ¥å—ä½ç½®å‚æ•°çš„å‡½æ•°ï¼Œåˆ™å¯ä»¥åœ¨å‡½æ•°åˆ—è¡¨ä¸­æ˜¯ä½¿ç”¨/ï¼Œe.g.
```python
#->é‚£ä¹ˆabä¸ºä»…é™ä½ç½®ä¼ å‚,cä¸ºå…¶ä»–å‚æ•°
def func(a,b,/,c)

```
4. å‡½æ•°å¼ç¼–ç¨‹å°±æ˜¯ä»¥å‡½æ•°ä¸ºå•ä½ï¼ŒæŠŠåŠ¨ä½œå°è£…è¿›å‡½æ•°ä¸­è¿›è¡Œç»„åˆä¸å˜æ¢
---

### âœ… `reduce(func, iterable)`

* **ä½œç”¨**ï¼šå¯¹ `iterable` ä¸­çš„å…ƒç´ è¿ç»­åº”ç”¨ `func`ï¼Œå°†å…¶â€œå½’çº¦â€ä¸ºå•ä¸ªå€¼ã€‚
* **æ¥æº**ï¼š`from functools import reduce`
* **ç¤ºä¾‹**ï¼š

```python
from functools import reduce
reduce(lambda x, y: x + y, [1, 2, 3, 4])  # ç»“æœæ˜¯ 10
```

---

### âœ… `itemgetter(*items)`

* **ä½œç”¨**ï¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè·å–å¯¹è±¡çš„â€œç´¢å¼•/é”®â€é¡¹ï¼Œå¸¸ç”¨äºæ’åºæˆ–æå–ã€‚
* **æ¥æº**ï¼š`from operator import itemgetter`
* **é€‚ç”¨äº**ï¼šåˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸ç­‰ã€‚

```python
from operator import itemgetter
data = [('a', 2), ('b', 1), ('c', 3)]
sorted(data, key=itemgetter(1))  # æ ¹æ®ç´¢å¼• 1 æ’åº
```

---

### âœ… `attrgetter(*attrs)`

* **ä½œç”¨**ï¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè·å–å¯¹è±¡çš„â€œå±æ€§å€¼â€ï¼Œå¸¸ç”¨äºæ’åºæˆ–æå–ã€‚
* **æ¥æº**ï¼š`from operator import attrgetter`
* **é€‚ç”¨äº**ï¼šå¯¹è±¡åˆ—è¡¨ã€‚

```python
from operator import attrgetter
class Person:
    def __init__(self, name, age): self.name, self.age = name, age

people = [Person('Alice', 30), Person('Bob', 25)]
sorted(people, key=attrgetter('age'))  # æ ¹æ® age å±æ€§æ’åº
```

---

### âœ… `partial(func, *args, **kwargs)`

* **ä½œç”¨**ï¼š**â€œå†»ç»“â€å‡½æ•°çš„éƒ¨åˆ†å‚æ•°**ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œç®€åŒ–è°ƒç”¨ã€‚
* **æ¥æº**ï¼š`from functools import partial`
* **ç”¨é€”**ï¼šæå‰ç»‘å®šéƒ¨åˆ†å‚æ•°ï¼Œåˆ›å»ºæ›´ç®€æ´çš„å‡½æ•°æ¥å£ã€‚

---

### ğŸ§ª ç¤ºä¾‹ï¼š

```python
from functools import partial

def power(base, exponent):
    return base ** exponent

square = partial(power, exponent=2)
print(square(5))  # è¾“å‡º 25ï¼Œç›¸å½“äº power(5, 2)
```

---

### ğŸ§­ æ€»ç»“ï¼š

| å‡½æ•°å       | ä½œç”¨           | ç±»ä¼¼ä»€ä¹ˆ     |
| --------- | ------------ | -------- |
| `partial` | å›ºå®šéƒ¨åˆ†å‚æ•°ï¼Œè¿”å›æ–°å‡½æ•° | **å‡½æ•°å·¥å‚** |



---
ä¸‰è€…æ€»ç»“è¡¨ï¼š

| å‡½æ•°           | ç”¨é€”      | å¸¸è§ç”¨æ³•         |
| ------------ | ------- | ------------ |
| `reduce`     | èšåˆã€å½’çº¦   | è¿ç»­åˆå¹¶åºåˆ—å€¼      |
| `itemgetter` | è·å–ç´¢å¼•/é”®å€¼ | ç”¨äºæ’åºã€ç­›é€‰å­—å…¸/å…ƒç»„ |
| `attrgetter` | è·å–å¯¹è±¡å±æ€§å€¼ | ç”¨äºæ’åºã€ç­›é€‰å¯¹è±¡    |

---