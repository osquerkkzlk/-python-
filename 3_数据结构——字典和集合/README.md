## 1.字典的现代语法
1. 字典推导式,e.g.{country:gdp for country,gdp in data}
2. 映射拆包：*用于序列拆包(比如列表、元组等),**用于映射拆包(比如字典)
3. 可以使用|和|=合并映射,如果冲突右边值优先。
4. match-case语句匹配的对象也可以是映射，在模式中，键的顺序无关紧要。可以在一个变量前面加上**用于匹配多出来的
键值对，但必须放在最后面
5. __missing__方法在dict找不到键时会调用
6. 字典视图：字典视图(比如.keys(),.values()...)是dict内部实现使用的数据的只读投影，并不是可迭代对象，所以不能通过索引去
访问它，但可以通过list强制转换再去访问它。
7. python通过哈希表去实现dict，以你字典的效率是非常高的，但是要求键必须是可哈希对象。
8. 多数映射具有两个强大的方法：setdefault和update

👍哈希：
实现了 __hash__() 方法，可以返回一个整数 hash 值；
实现了 __eq__() 方法，用于比较两个对象是否相等；
在其生命周期中是不可变的（哈希值不会变）——如果两个对象相等（a == b），它们的 hash 值必须相等（hash(a) == hash(b)）。

## 2.dict的变体
1. collections.OrderedDict

常规的dict主要执行映射操作，插入顺序时次要的。OrderedDict的目的是方便执行重新排序操作。

2. collections.ChainMap

ChainMap实例存放一组映射，可作为一个整体来搜索。查找操作按照输入映射在构造函数调用中出现的顺序执行，
一旦在某个映射中找到指定的键，旋即结束。e.g.`ChainMap(d1,d2)`，`ChainMap["s"]`先在d1中寻找，找不到才会在d2中寻找。
`ChainMap`实例不复制输入映射，而是存放映射的引用。`ChainMap`的更新或插入操作只影响第一个映射。

3. collections.Counter

对键计数，经常用，hh。

## 3.集合论
1. 集合是一组唯一的对象，集合的基本作用是去重。如果只想去除重复项，同时保留每一项首次出现的顺序，使用普通的dict即可
2. set是可变的，因此是不可哈希的，而frozenset可以哈希
3. set字面量。空set必须写成 set(),标准写法为{1，2，30}，但是{}表示空字典。
4. python调用构造函数速度慢，因为python要查找set的名称，找出构造函数，然后构建一个列表，最后把
列表传递给函数。相比之下，字面量只需要运行一个字节码即可
5. 集合运算，e.g.&(与运算) |(或运算) |= &=  -   ^(异或)。使用集合运算可以省区大量循环和条件判断。

## 4. 实战训练


### ✅ 阶段一：图书信息管理（掌握 dict 基础）

```python
book1 = {"title": "Python从入门到放弃", "author": "张三", "category": "编程", "year": 2020}
book2 = {"title": "算法图解", "author": "李四", "category": "算法", "year": 2018}
book3 = {"title": "Python从入门到放弃", "author": "张三", "category": "编程", "year": 2020}
```

#### 任务目标：

* 使用字典推导式，批量创建图书信息集合
* 使用集合去重（基于 `frozenset`）
* 用 `dict` 视图分析作者、年份分布
* 尝试实现一本书的信息合并（使用 `|` 操作符）

---

### ✅ 阶段二：分类统计（掌握 Counter & defaultdict）

#### 任务目标：

* 使用 `collections.Counter` 统计每个分类下书的数量
* 使用 `defaultdict(list)` 按作者分类图书
* 模拟新书添加逻辑（自动计入统计）

---

### ✅ 阶段三：多源数据管理（掌握 ChainMap）

```python
local = {"title": "C语言", "author": "王五"}
remote = {"title": "C语言", "year": 2015}
```

#### 任务目标：

* 使用 `ChainMap` 合并多数据源信息，构建完整图书记录
* 修改 `ChainMap` 中的值，观察对源数据的影响
* 实现优先本地 -> 再远程的数据覆盖逻辑

---

### ✅ 阶段四：书籍信息模式匹配（match-case 实战）

#### 任务目标：

* 针对图书信息结构进行 `match-case` 模式匹配，提取关键词如 `"author": str`
* 匹配分类为 "算法" 且年份 < 2020 的图书
* 利用 `**rest` 进行模糊匹配和解包

---

### ✅ 阶段五：高级集合运算（掌握集合论）

假设你管理两批图书编号：

```python
library_A = {101, 102, 103, 104}
library_B = {103, 104, 105, 106}
```

#### 任务目标：

* 找出两个图书馆的**共有图书**
* 找出只属于 A 的图书编号
* 找出全部编号集合（并集）
* 判断是否存在重复书籍（`A & B` 是否为空）
* 使用 `frozenset` 创建图书编号的唯一组合索引

---

## 🧭 总体指标（评价你的训练效果）

| 指标                       | 内容                                   |
| ------------------------ | ------------------------------------ |
| 💡 正确使用 dict、集合类型        | 推导式、拆包、合并、哈希理解                       |
| 🔍 精准运用 `collections` 容器 | `Counter`, `defaultdict`, `ChainMap` |
| 🧩 熟练使用 match-case       | 模式匹配、模式提取、解构能力                       |
| ⚙️ 编写模块化逻辑               | 使用类或函数封装数据处理逻辑                       |
| 📈 输出清晰报表/统计结果           | 信息展示层的组织能力                           |

---
